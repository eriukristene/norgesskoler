///////////////////////////////////////////////////////////////////////////////////////////////
//define the map (base layer) and set its location via ([latitude, longitude], map zoom)
//smaller map zoom = zoomed out farther, bigger map zoom = zoomed in more
///////////////////////////////////////////////////////////////////////////////////////////////
var mymap = L.map('mapid').setView([60.104657, 10.260997], 8);    

//access the MapBox maps API, with generated API key/access token from Erin's MapBox account
    L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZXJpdWtyaXN0ZW5lIiwiYSI6ImNrMWFlZDAzMDBjODQzZHBhd2kxaGJndGoifQ.qtMgz7G3f0Ptwawi3Ws_Ww', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18.5,
    id: 'your.mapbox.project.id',
    accessToken: 'pk.eyJ1IjoiZXJpdWtyaXN0ZW5lIiwiYSI6ImNrMWFlZDAzMDBjODQzZHBhd2kxaGJndGoifQ.qtMgz7G3f0Ptwawi3Ws_Ww'
}).addTo(mymap);

///////////////////////////////////////////////////////////////////////////////////////////////
//make the Viken polygon outline
///////////////////////////////////////////////////////////////////////////////////////////////
var polygonViken = L.polygon(
[ //begin creating Viken polygon
	[ //define outer polygon
[58.894019,10.643096],
[58.929474,10.85321],
[58.960645,10.991912],
[58.977635,11.07019],
[59.031383,11.129241],
[59.079401,11.155334],
[59.099154,11.285797],
[59.113257,11.338668],
[59.09069,11.376434],
[59.041274,11.415573],
[58.993202,11.465698],
[58.98542,11.454196],
[58.97268,11.462779],
[58.951084,11.460376],
[58.933018,11.464839],
[58.918132,11.456943],
[58.889407,11.457286],
[58.890471,11.489215],
[58.888874,11.494279],
[58.889229,11.500202],
[58.881955,11.514106],
[58.881113,11.517067],
[58.879649,11.517282],
[58.87681,11.526723],
[58.879205,11.533161],
[58.877342,11.537409],
[58.886296,11.535006],
[58.899421,11.554575],
[58.887715,11.572085],
[58.897293,11.577921],
[58.89073,11.591139],
[58.905628,11.62736],
[58.90873,11.630535],
[58.906071,11.65268],
[58.927305,11.658274],
[58.927194,11.661418],
[58.931978,11.6585],
[58.934901,11.664765],
[58.934813,11.675666],
[58.937293,11.675408],
[58.941721,11.673434],
[58.94305,11.675794],
[58.944865,11.67661],
[58.947477,11.68206],
[58.952436,11.682918],
[58.957039,11.688926],
[58.970492,11.686695],
[58.972571,11.689227],
[58.972837,11.686352],
[58.97465,11.684678],
[58.976464,11.687467],
[58.976818,11.6906],
[58.977703,11.693733],
[58.979561,11.69266],
[58.982038,11.690815],
[58.984957,11.692059],
[58.985819,11.691008],
[58.98573,11.689828],
[58.986327,11.68869],
[58.987521,11.685708],
[58.987345,11.684485],
[58.987942,11.684292],
[58.988649,11.684828],
[58.989843,11.683905],
[58.990241,11.685128],
[58.990219,11.686695],
[58.991258,11.688261],
[58.991159,11.689281],
[58.992352,11.690783],
[58.994828,11.6934],
[58.996022,11.692413],
[58.996332,11.694774],
[58.997835,11.692585],
[58.998564,11.693121],
[58.999272,11.69619],
[59.0002,11.698143],
[59.017082,11.705781],
[59.03378,11.710674],
[59.0525,11.738483],
[59.083207,11.771099],
[59.097668,11.777622],
[59.098241,11.780583],
[59.100004,11.780712],
[59.102781,11.776206],
[59.110008,11.771571],
[59.1123,11.768738],
[59.114591,11.766421],
[59.114547,11.763696],
[59.21626,11.788415],
[59.24085,11.8303],
[59.345339,11.817254],
[59.428559,11.760263],
[59.589522,11.690911],
[59.644394,11.785668],
[59.649946,11.859139],
[59.69294,11.890039],
[59.696405,11.941537],
[59.751794,11.923684],
[59.791894,11.930551],
[59.840226,11.841287],
[59.869881,11.829614],
[59.900198,11.806954],
[59.9181,11.803521],
[59.937368,11.817941],
[59.957313,11.792535],
[59.993732,11.820687],
[60.005748,11.838197],
[60.015701,11.839913],
[60.023936,11.821717],
[60.051028,11.823434],
[60.05874,11.817426],
[60.048457,11.792878],
[60.092309,11.772279],
[60.171642,11.589631],
[60.175398,11.567315],
[60.187349,11.564912],
[60.24056,11.582765],
[60.267134,11.601991],
[60.313415,11.501054],
[60.343327,11.433763],
[60.458639,11.349992],
[60.506002,11.208543],
[60.561396,11.220902],
[60.605912,11.156358],
[60.5689,11.101202],
[60.519521,11.100053],
[60.478946,10.950364],
[60.477592,10.826768],
[60.522224,10.721025],
[60.491881,10.692648],
[60.474885,10.703172],
[60.453641,10.710844],
[60.435609,10.677079],
[60.426122,10.777329],
[60.425444,10.819901],
[60.396286,10.902986],
[60.366422,10.918778],
[60.346045,10.933885],
[60.337192,10.703553],
[60.353499,10.49756],
[60.38066,10.214662],
[60.526936,10.145997],
[60.634864,10.033387],
[60.630823,9.907045],
[60.612633,9.952363],
[60.5715,9.856919],
[60.586678,9.843187],
[60.556315,9.810571],
[60.448124,9.83529],
[60.504969,9.612817],
[60.537407,9.61007],
[60.530652,9.504327],
[60.553614,9.428796],
[60.595445,9.438409],
[60.612296,9.426049],
[60.619708,9.385537],
[60.64732,9.365625],
[60.667509,9.351205],
[60.691046,9.320306],
[60.72867,9.337472],
[60.741761,9.314126],
[60.760884,9.293183],
[60.767256,9.251641],
[60.77128,9.217652],
[60.784018,9.19671],
[60.792396,9.1895],
[60.804791,9.152078],
[60.815507,9.09543],
[60.863686,8.917932],
[60.899772,8.889093],
[60.902443,8.813562],
[60.951824,8.628167],
[60.986479,8.599328],
[61.018434,8.512811],
[61.033069,8.409814],
[61.090216,8.31231],
[61.057004,8.2203],
[61.031739,8.282098],
[61.008451,8.260812],
[61.008784,8.234033],
[60.999464,8.220643],
[60.994138,8.232659],
[60.968157,8.223561],
[60.968195,8.186325],
[60.980856,8.157486],
[60.893465,8.04316],
[60.90148,7.979302],
[60.896805,7.93879],
[60.924179,7.880425],
[60.898141,7.805581],
[60.792435,7.706017],
[60.763607,7.727303],
[60.732738,7.688164],
[60.744149,7.618813],
[60.66082,7.442345],
[60.656782,7.543282],
[60.629852,7.637352],
[60.593461,7.622933],
[60.536771,7.671685],
[60.519204,7.731423],
[60.420381,7.689537],
[60.29949,7.677864],
[60.245012,7.608513],
[60.17337,7.581734],
[60.100203,7.49041],
[60.12689,7.649025],
[60.113892,7.756829],
[60.103626,7.816567],
[60.137833,7.92849],
[60.164489,8.066506],
[60.184297,8.108391],
[60.188394,8.210701],
[60.175419,8.293785],
[60.1802,8.387856],
[60.169272,8.477806],
[60.175419,8.56913],
[60.171321,8.660454],
[60.182931,8.725686],
[60.151506,8.819756],
[60.099519,8.961205],
[60.020012,8.984551],
[59.997015,9.00103],
[59.990662,8.988327],
[59.980702,8.993649],
[59.983793,9.018883],
[59.968679,9.054061],
[59.962493,9.058524],
[59.95854,9.105044],
[59.951148,9.111396],
[59.931178,9.170922],
[59.915692,9.192895],
[59.900544,9.177445],
[59.896756,9.188431],
[59.865386,9.178011],
[59.825374,9.188311],
[59.812257,9.242556],
[59.813781,9.253249],
[59.808775,9.25754],
[59.796523,9.3243],
[59.78132,9.364812],
[59.755737,9.347645],
[59.720441,9.341466],
[59.717844,9.355199],
[59.693771,9.334428],
[59.681824,9.409094],
[59.658245,9.407034],
[59.620763,9.435186],
[59.576286,9.463339],
[59.556112,9.475012],
[59.538016,9.515524],
[59.492731,9.472265],
[59.482273,9.473295],
[59.486237,9.52403],
[59.483447,9.534158],
[59.486934,9.551496],
[59.465486,9.585313],
[59.463306,9.579133],
[59.454932,9.583683],
[59.450307,9.58703],
[59.438352,9.621448],
[59.425257,9.625482],
[59.407439,9.661531],
[59.411982,9.710626],
[59.412331,9.777574],
[59.458421,9.760065],
[59.457201,9.775277],
[59.469325,9.819308],
[59.463045,9.841624],
[59.45851,9.853297],
[59.459731,9.875098],
[59.455718,9.916812],
[59.459556,9.936896],
[59.465487,9.939814],
[59.468191,9.945308],
[59.468017,9.96256],
[59.466011,9.97964],
[59.467755,9.989339],
[59.459812,10.004399],
[59.460859,10.02311],
[59.46522,10.025685],
[59.473068,10.059502],
[59.52308,10.004056],
[59.582928,9.922345],
[59.587795,9.942258],
[59.603433,9.935048],
[59.618716,9.981396],
[59.635728,9.98174],
[59.646833,9.98895],
[59.663831,10.002339],
[59.65516,10.023282],
[59.64024,10.036671],
[59.643884,10.052121],
[59.642843,10.090058],
[59.658108,10.102933],
[59.662271,10.112717],
[59.67042,10.117009],
[59.67146,10.136407],
[59.666605,10.156491],
[59.669033,10.175202],
[59.671633,10.193913],
[59.664178,10.216058],
[59.665565,10.223611],
[59.671113,10.22507],
[59.669726,10.231507],
[59.666432,10.238803],
[59.673542,10.260003],
[59.667994,10.302918],
[59.680128,10.311501],
[59.688793,10.322831],
[59.70092,10.327294],
[59.698495,10.360596],
[59.676315,10.396645],
[59.665567,10.412095],
[59.647182,10.411065],
[59.625662,10.425141],
[59.617155,10.413125],
[59.608645,10.411237],
[59.600133,10.423768],
[59.585015,10.412266],
[59.567108,10.418961],
[59.542231,10.40437],
[59.530917,10.398019],
[59.512284,10.39819],
[59.480916,10.452435],
[59.45929,10.542386],
[59.424411,10.538824],
[59.394359,10.583456],
[59.354483,10.592383],
[59.34153,10.57865],
[59.30755,10.589293],
[59.286515,10.592383],
[59.265115,10.595473],
[59.239137,10.616415],
[59.207867,10.638045],
[59.188529,10.656241],
[59.16214,10.652464],
[59.133618,10.652121],
[59.11177,10.624312],
[59.046142,10.673407],
[58.979681,10.642508],
[58.894651,10.621222]
	], //close outer polygon
	[  //define inner polygon to take out Oslo area
		[59.833058, 10.933037],
		[59.869640, 10.905701],
		[59.921364, 10.915503],
		[59.944095, 10.942430],
		[59.950129, 10.949096],
		[59.961736, 10.935242],
		[59.983197, 10.923726],
		[59.984361, 10.917934],
		[59.980886, 10.912130],
		[60.002068, 10.848103],
		[59.999149, 10.835439],
		[60.023987, 10.827661],
		[60.017170, 10.818888],
		[60.065389, 10.815973],
		[60.067165, 10.786733],
		[60.098782, 10.756463],
		[60.112776, 10.768121],
		[60.125491, 10.738269],
		[60.119805, 10.70839],
		[60.125603, 10.704715],
		[60.133840, 10.68081],
		[60.133364, 10.604637],
		[60.116913, 10.574634],
		[60.094203, 10.594960],
		[60.077823, 10.599182],
		[60.076139, 10.581502],
		[60.017283, 10.490798],
		[60.002173, 10.523596],
		[59.997973, 10.557596],
		[59.978903, 10.593062],
		[59.978215, 10.614285],
		[59.941427, 10.637019],
		[59.923725, 10.627180],
		[59.912414, 10.646979],
		[59.886941, 10.661147],
		[59.877752, 10.692193],
		[59.878464, 10.731683],
		[59.823625, 10.796803],
		[59.825286, 10.813066],
		[59.818955, 10.818109],
		[59.815580, 10.846656],
		[59.810092, 10.857568],
		[59.814648, 10.870353],
		[59.812939, 10.880086],
		[59.821100, 10.891393],
		[59.827126, 10.909058],
		[59.828535, 10.927424],
		[59.832435, 10.935204]
	] //close inner Oslo area polygon
] //end creating Viken polygon
).addTo(mymap);

// set the color for the Viken polygon
polygonViken.setStyle(
	{
	fillColor: "#7D7D88",
	color: "black", //border
	fillOpacity: 0.5
	}
	
); //end setStyle() for Viken polygon

///////////////////////////////////////////////////////////////////////////////////////////////
//define each school as a Circle overlay https://www.wrld3d.com/wrld.js/latest/docs/leaflet/L.Circle/
//color-border color, fillColor-inside of circle (color HEX value), weight-thickness of border line
//fillOpacity-saturation of fillColor, radius-in meters
///////////////////////////////////////////////////////////////////////////////////////////////

//big schools
var bigSchool = L.circle([59.780680, 9.938158], {color: "black", fillColor: "#DF9223", weight: 1, fillOpacity: 0.7, radius: 3500});
bigSchool.bindPopup("<b> School 1 </b><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. <br /><br /> <a href='https://buskerud.fylkesbibl.no/' target='_newtab'>Click here to visit the library site</a>");

var schoolOne = L.circle([60.170592, 10.180414], {color: "black", fillColor: "#DF9223", weight: 1, fillOpacity: 0.7, radius: 3500});
schoolOne.bindPopup("<b> School 1 </b><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.  <br /><br /> <a href='https://buskerud.fylkesbibl.no/' target='_newtab'>Click here to visit the library site</a>");

//medium schools
var mediumSchool = L.circle([59.7441, 10.2045], {color: "black", fillColor: "#25AF53", weight: 1, fillOpacity: 0.7, radius: 2500});
mediumSchool.bindPopup("<b> School 1 </b><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.  <br /><br /> <a href='https://buskerud.fylkesbibl.no/' target='_newtab'> Click here to visit the library site</a>");

var schoolTwo = L.circle([59.277854, 11.055712], {color: "black", fillColor: "#25AF53", weight: 1, fillOpacity: 0.7, radius: 2500});
schoolTwo.bindPopup("<b> School 1 </b><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.  <br /><br /> <a href='https://buskerud.fylkesbibl.no/' target='_newtab'>Click here to visit the library site</a>");

//small schools
var smallSchool = L.circle([59.9560, 11.0504], {color: "black", fillColor: "#C623DF", weight: 1, fillOpacity: 0.7, radius: 1500});
smallSchool.bindPopup("<b> School 1 </b><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.  <br /><br /> <a href='https://buskerud.fylkesbibl.no/' target='_newtab'>Click here to visit the library site</a>");

var schoolThree = L.circle([59.737392, 9.692940], {color: "black", fillColor: "#C623DF", weight: 1, fillOpacity: 0.7, radius: 1500});
schoolThree.bindPopup("<b> School 1 </b><br> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.  <br /><br /> <a href='https://buskerud.fylkesbibl.no/' target='_newtab'>Click here to visit the library site</a>");

///////////////////////////////////////////////////////////////////////////////////////////////
//define the layer groups (overlays) for groups of schools based on size; add them to map right away
//so that the selection box (legend) will be populated right away
// see tutorial at https://leafletjs.com/examples/layers-control/
///////////////////////////////////////////////////////////////////////////////////////////////
var bigSchoolsGroup = L.layerGroup([bigSchool, schoolOne]).addTo(mymap);
var mediumSchoolsGroup = L.layerGroup([mediumSchool, schoolTwo]).addTo(mymap);
var smallSchoolsGroup = L.layerGroup([smallSchool, schoolThree]).addTo(mymap);

///////////////////////////////////////////////////////////////////////////////////////////////
//create the legend of each group of schools as overlay list with checkboxes
///////////////////////////////////////////////////////////////////////////////////////////////
var overlayMaps = {
"<span style='color:#DF9223; font-size:15px; font-weight:bold;'> Big Schools </span>": bigSchoolsGroup,
"<span style='color:#25AF53; font-size:15px; font-weight:bold;'> Medium Schools </span>": mediumSchoolsGroup,
"<span style='color:#C623DF; font-size:15px; font-weight:bold;'> Small Schools </span>": smallSchoolsGroup
}

///////////////////////////////////////////////////////////////////////////////////////////////
//add the overlayMaps legend to the map, not collapsed
///////////////////////////////////////////////////////////////////////////////////////////////
L.control.layers(null, overlayMaps, {collapsed: false}).addTo(mymap);

//end vikenkart.js
